subinclude("///pleasegomod//:build_defs")

fileexport(
    name = "internal",
    srcs = [
        "internal/activity.go",
        "internal/client.go",
        "internal/context.go",
        "internal/encoded.go",
        "internal/error.go",
        "internal/headers.go",
        "internal/internal_activity.go",
        "internal/internal_decision_state_machine.go",
        "internal/internal_event_handlers.go",
        "internal/internal_logging_tags.go",
        "internal/internal_pressure_points.go",
        "internal/internal_public.go",
        "internal/internal_retry.go",
        "internal/internal_task_handlers.go",
        "internal/internal_task_pollers.go",
        "internal/internal_time.go",
        "internal/internal_utils.go",
        "internal/internal_worker.go",
        "internal/internal_worker_base.go",
        "internal/internal_workflow.go",
        "internal/internal_workflow_client.go",
        "internal/internal_workflow_testsuite.go",
        "internal/propagation.go",
        "internal/session.go",
        "internal/tracer.go",
        "internal/version.go",
        "internal/worker.go",
        "internal/workflow.go",
        "internal/workflow_testsuite.go",
    ],
    tag = "go_source",
    deps = ["//third_party/go/go.uber.org/cadence:_cadence#download"],
)

go_library(
    name = "internal",
    srcs = [":_internal#go_source"],
    cover = False,
    import_path = "go.uber.org/cadence/internal",
    visibility = ["PUBLIC"],
    deps = [
        "//third_party/go/github.com/apache/thrift/lib/go/thrift",
        "//third_party/go/github.com/facebookgo/clock",
        "//third_party/go/github.com/golang/mock/gomock",
        "//third_party/go/github.com/opentracing/opentracing-go",
        "//third_party/go/github.com/pborman/uuid",
        "//third_party/go/github.com/robfig/cron",
        "//third_party/go/github.com/stretchr/testify/mock",
        "//third_party/go/github.com/uber-go/tally",
        "//third_party/go/go.uber.org/atomic",
        "//third_party/go/go.uber.org/cadence/.gen/go/cadence/workflowserviceclient",
        "//third_party/go/go.uber.org/cadence/.gen/go/cadence/workflowservicetest",
        "//third_party/go/go.uber.org/cadence/.gen/go/shared",
        "//third_party/go/go.uber.org/cadence/internal/common",
        "//third_party/go/go.uber.org/cadence/internal/common/backoff",
        "//third_party/go/go.uber.org/cadence/internal/common/cache",
        "//third_party/go/go.uber.org/cadence/internal/common/metrics",
        "//third_party/go/go.uber.org/cadence/internal/common/util",
        "//third_party/go/go.uber.org/yarpc",
        "//third_party/go/go.uber.org/zap",
        "//third_party/go/go.uber.org/zap/zapcore",
        "//third_party/go/golang.org/x/time/rate",
    ],
)
