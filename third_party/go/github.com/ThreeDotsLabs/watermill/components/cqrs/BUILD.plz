subinclude("///pleasegomod//:build_defs")

fileexport(
    name = "cqrs",
    srcs = [
        "components/cqrs/command_bus.go",
        "components/cqrs/command_processor.go",
        "components/cqrs/cqrs.go",
        "components/cqrs/doc.go",
        "components/cqrs/event_bus.go",
        "components/cqrs/event_processor.go",
        "components/cqrs/marshaler.go",
        "components/cqrs/marshaler_json.go",
        "components/cqrs/marshaler_protobuf.go",
        "components/cqrs/name.go",
        "components/cqrs/object.go",
    ],
    tag = "go_source",
    deps = ["//third_party/go/github.com/ThreeDotsLabs/watermill:_watermill#download"],
)

go_library(
    name = "cqrs",
    srcs = [":_cqrs#go_source"],
    cover = False,
    import_path = "github.com/ThreeDotsLabs/watermill/components/cqrs",
    visibility = ["PUBLIC"],
    deps = [
        "//third_party/go/github.com/ThreeDotsLabs/watermill",
        "//third_party/go/github.com/ThreeDotsLabs/watermill/message",
        "//third_party/go/github.com/gogo/protobuf/proto",
        "//third_party/go/github.com/hashicorp/go-multierror",
        "//third_party/go/github.com/pkg/errors",
    ],
)
