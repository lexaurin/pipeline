subinclude("///pleasegomod//:build_defs")

go_module_download(
    name = "auth",
    module = "github.com/qor/auth",
    replace = "github.com/banzaicloud/auth",
    sum = "h1:EUl1EMnJ2AfRGq6xn/SKdRY39ZULGyFj0XJDImv1aF4=",
    tag = "download",
    version = "v0.1.3",
    visibility = ["//third_party/go/github.com/qor/auth/..."],
)

fileexport(
    name = "auth",
    srcs = [
        "auth.go",
        "context.go",
        "controller.go",
        "errors.go",
        "handlers.go",
        "provider.go",
        "redirector.go",
        "schema.go",
        "session_storer.go",
        "user_storer.go",
        "utils.go",
    ],
    tag = "go_source",
    deps = [":_auth#download"],
)

go_library(
    name = "auth",
    srcs = [":_auth#go_source"],
    cover = False,
    import_path = "github.com/qor/auth",
    visibility = ["PUBLIC"],
    deps = [
        "//third_party/go/github.com/dgrijalva/jwt-go",
        "//third_party/go/github.com/jinzhu/copier",
        "//third_party/go/github.com/jinzhu/gorm",
        "//third_party/go/github.com/qor/auth/auth_identity",
        "//third_party/go/github.com/qor/auth/claims",
        "//third_party/go/github.com/qor/mailer",
        "//third_party/go/github.com/qor/mailer/logger",
        "//third_party/go/github.com/qor/qor/utils",
        "//third_party/go/github.com/qor/redirect_back",
        "//third_party/go/github.com/qor/render",
        "//third_party/go/github.com/qor/responder",
        "//third_party/go/github.com/qor/session",
        "//third_party/go/github.com/qor/session/manager",
    ],
)
