subinclude("///pleasegomod//:build_defs")

go_module_download(
    name = "tchannel-go",
    module = "github.com/uber/tchannel-go",
    sum = "h1:2Hxvd+LaQyb9Rza+KoobJU6lhabIo1+cImk/rdLfiuQ=",
    tag = "download",
    version = "v1.18.0",
    visibility = ["//third_party/go/github.com/uber/tchannel-go/..."],
)

fileexport(
    name = "tchannel-go",
    srcs = [
        "all_channels.go",
        "arguments.go",
        "calloptions.go",
        "channel.go",
        "channelstate_string.go",
        "checksum.go",
        "connection.go",
        "connection_direction.go",
        "connectionstate_string.go",
        "context.go",
        "context_builder.go",
        "context_header.go",
        "dial_16.go",
        "dial_17.go",
        "doc.go",
        "errors.go",
        "fragmenting_reader.go",
        "fragmenting_writer.go",
        "frame.go",
        "frame_pool.go",
        "handlers.go",
        "health.go",
        "idle_sweep.go",
        "inbound.go",
        "introspection.go",
        "localip.go",
        "logger.go",
        "messages.go",
        "messagetype_string.go",
        "mex.go",
        "outbound.go",
        "peer.go",
        "peer_heap.go",
        "peer_strategies.go",
        "preinit_connection.go",
        "relay.go",
        "relay_api.go",
        "relay_messages.go",
        "relay_timer_pool.go",
        "reqres.go",
        "reqresreaderstate_string.go",
        "reqreswriterstate_string.go",
        "retry.go",
        "retryon_string.go",
        "root_peer_list.go",
        "sockio_darwin.go",
        "sockio_linux.go",
        "stats.go",
        "subchannel.go",
        "systemerrcode_string.go",
        "tracing.go",
        "tracing_keys.go",
        "version.go",
    ],
    tag = "go_source",
    deps = [":_tchannel-go#download"],
)

go_library(
    name = "tchannel-go",
    srcs = [":_tchannel-go#go_source"],
    cover = False,
    import_path = "github.com/uber/tchannel-go",
    visibility = ["PUBLIC"],
    deps = [
        "//third_party/go/github.com/opentracing/opentracing-go",
        "//third_party/go/github.com/opentracing/opentracing-go/ext",
        "//third_party/go/github.com/uber/tchannel-go/internal/argreader",
        "//third_party/go/github.com/uber/tchannel-go/relay",
        "//third_party/go/github.com/uber/tchannel-go/thrift/arg2",
        "//third_party/go/github.com/uber/tchannel-go/tnet",
        "//third_party/go/github.com/uber/tchannel-go/tos",
        "//third_party/go/github.com/uber/tchannel-go/trand",
        "//third_party/go/github.com/uber/tchannel-go/typed",
        "//third_party/go/go.uber.org/atomic",
        "//third_party/go/go.uber.org/multierr",
        "//third_party/go/golang.org/x/net/context",
        "//third_party/go/golang.org/x/net/ipv4",
        "//third_party/go/golang.org/x/net/ipv6",
        "//third_party/go/golang.org/x/sys/unix",
    ],
)
